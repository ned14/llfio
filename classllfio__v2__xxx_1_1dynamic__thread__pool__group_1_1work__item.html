<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLFIO: llfio_v2_xxx::dynamic_thread_pool_group::work_item Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLFIO
   &#160;<span id="projectnumber">v2.00</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classllfio__v2__xxx_1_1dynamic__thread__pool__group_1_1work__item.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classllfio__v2__xxx_1_1dynamic__thread__pool__group_1_1work__item-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">llfio_v2_xxx::dynamic_thread_pool_group::work_item Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>An individual item of work within the work group.  
 <a href="classllfio__v2__xxx_1_1dynamic__thread__pool__group_1_1work__item.html#details">More...</a></p>

<p><code>#include &quot;dynamic_thread_pool_group.hpp&quot;</code></p>
<div class="dynheader">
Inheritance diagram for llfio_v2_xxx::dynamic_thread_pool_group::work_item:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classllfio__v2__xxx_1_1dynamic__thread__pool__group_1_1work__item.png" usemap="#llfio_5Fv2_5Fxxx::dynamic_5Fthread_5Fpool_5Fgroup::work_5Fitem_map" alt=""/>
  <map id="llfio_5Fv2_5Fxxx::dynamic_5Fthread_5Fpool_5Fgroup::work_5Fitem_map" name="llfio_5Fv2_5Fxxx::dynamic_5Fthread_5Fpool_5Fgroup::work_5Fitem_map">
<area href="classllfio__v2__xxx_1_1dynamic__thread__pool__group_1_1io__aware__work__item.html" title="A work item which paces when it next executes according to i/o congestion." alt="llfio_v2_xxx::dynamic_thread_pool_group::io_aware_work_item" shape="rect" coords="0,56,366,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aee890b7a94a8d7a24e9b55aef8177c49"><td class="memItemLeft" align="right" valign="top"><a id="aee890b7a94a8d7a24e9b55aef8177c49"></a>
<a class="el" href="classllfio__v2__xxx_1_1dynamic__thread__pool__group.html">dynamic_thread_pool_group</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllfio__v2__xxx_1_1dynamic__thread__pool__group_1_1work__item.html#aee890b7a94a8d7a24e9b55aef8177c49">parent</a> () const noexcept</td></tr>
<tr class="memdesc:aee890b7a94a8d7a24e9b55aef8177c49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the parent work group between successful submission and just before <code>group_complete()</code>. <br /></td></tr>
<tr class="separator:aee890b7a94a8d7a24e9b55aef8177c49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ac186ccb6ee8aa13ba9a0e528617a35"><td class="memItemLeft" align="right" valign="top">virtual intptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllfio__v2__xxx_1_1dynamic__thread__pool__group_1_1work__item.html#a0ac186ccb6ee8aa13ba9a0e528617a35">next</a> (<a class="el" href="structllfio__v2__xxx_1_1deadline.html">deadline</a> &amp;d) noexcept=0</td></tr>
<tr class="separator:a0ac186ccb6ee8aa13ba9a0e528617a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68e317002adf480e0a4c076410e35e8e"><td class="memItemLeft" align="right" valign="top">virtual result&lt; void &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllfio__v2__xxx_1_1dynamic__thread__pool__group_1_1work__item.html#a68e317002adf480e0a4c076410e35e8e">operator()</a> (intptr_t work) noexcept=0</td></tr>
<tr class="separator:a68e317002adf480e0a4c076410e35e8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8d6ba54f52e216edd37474f19731fd8"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllfio__v2__xxx_1_1dynamic__thread__pool__group_1_1work__item.html#ae8d6ba54f52e216edd37474f19731fd8">group_complete</a> (const result&lt; void &gt; &amp;cancelled) noexcept</td></tr>
<tr class="separator:ae8d6ba54f52e216edd37474f19731fd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aa6641deb837cc77540b1a9bdf41afa6f"><td class="memItemLeft" align="right" valign="top"><a id="aa6641deb837cc77540b1a9bdf41afa6f"></a>
constexpr bool&#160;</td><td class="memItemRight" valign="bottom"><b>_has_timer_set_relative</b> () const noexcept</td></tr>
<tr class="separator:aa6641deb837cc77540b1a9bdf41afa6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c2850bf3778d32c335eace1f05ea3b7"><td class="memItemLeft" align="right" valign="top"><a id="a1c2850bf3778d32c335eace1f05ea3b7"></a>
constexpr bool&#160;</td><td class="memItemRight" valign="bottom"><b>_has_timer_set_absolute</b> () const noexcept</td></tr>
<tr class="separator:a1c2850bf3778d32c335eace1f05ea3b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c49153ff193f7b3d948eec37b5509f7"><td class="memItemLeft" align="right" valign="top"><a id="a2c49153ff193f7b3d948eec37b5509f7"></a>
constexpr bool&#160;</td><td class="memItemRight" valign="bottom"><b>_has_timer_set</b> () const noexcept</td></tr>
<tr class="separator:a2c49153ff193f7b3d948eec37b5509f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af415e6b3b6db0eb3c126ff21ff6fa546"><td class="memItemLeft" align="right" valign="top"><a id="af415e6b3b6db0eb3c126ff21ff6fa546"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>work_item</b> (const <a class="el" href="classllfio__v2__xxx_1_1dynamic__thread__pool__group_1_1work__item.html">work_item</a> &amp;o)=delete</td></tr>
<tr class="separator:af415e6b3b6db0eb3c126ff21ff6fa546"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a340f332db74817420896cb3478ed9f32"><td class="memItemLeft" align="right" valign="top"><a id="a340f332db74817420896cb3478ed9f32"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>work_item</b> (<a class="el" href="classllfio__v2__xxx_1_1dynamic__thread__pool__group_1_1work__item.html">work_item</a> &amp;&amp;o) noexcept</td></tr>
<tr class="separator:a340f332db74817420896cb3478ed9f32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb61b18d7483fbc86768db0973b25e74"><td class="memItemLeft" align="right" valign="top"><a id="acb61b18d7483fbc86768db0973b25e74"></a>
<a class="el" href="classllfio__v2__xxx_1_1dynamic__thread__pool__group_1_1work__item.html">work_item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classllfio__v2__xxx_1_1dynamic__thread__pool__group_1_1work__item.html">work_item</a> &amp;)=delete</td></tr>
<tr class="separator:acb61b18d7483fbc86768db0973b25e74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6311b4975fc6aa06dfa0f6b69d91ca3"><td class="memItemLeft" align="right" valign="top"><a id="ab6311b4975fc6aa06dfa0f6b69d91ca3"></a>
<a class="el" href="classllfio__v2__xxx_1_1dynamic__thread__pool__group_1_1work__item.html">work_item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classllfio__v2__xxx_1_1dynamic__thread__pool__group_1_1work__item.html">work_item</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:ab6311b4975fc6aa06dfa0f6b69d91ca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:acd9883ca1a476119de857fac1601332a"><td class="memItemLeft" align="right" valign="top"><a id="acd9883ca1a476119de857fac1601332a"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>dynamic_thread_pool_group_impl</b></td></tr>
<tr class="separator:acd9883ca1a476119de857fac1601332a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An individual item of work within the work group. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ae8d6ba54f52e216edd37474f19731fd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8d6ba54f52e216edd37474f19731fd8">&#9670;&nbsp;</a></span>group_complete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void llfio_v2_xxx::dynamic_thread_pool_group::work_item::group_complete </td>
          <td>(</td>
          <td class="paramtype">const result&lt; void &gt; &amp;&#160;</td>
          <td class="paramname"><em>cancelled</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Invoked by the i/o thread pool when all work in this thread pool group is complete.</p>
<p><code>cancelled</code> indicates if this is an abnormal completion. If its error compares equal to <code>errc::operation_cancelled</code>, then <code>stop()</code> was called.</p>
<p>Just before this is called for all work items submitted, the group becomes reset to fresh, and <code>parent()</code> becomes null. You can resubmit this work item, but do not submit other work items until their <code>group_complete()</code> has been invoked.</p>
<p>Note that this function is called from multiple kernel threads.</p>
<p><code>dynamic_thread_pool_group::current_work_item()</code> may have any value during this call. </p>
<div class="fragment"><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;{ (void) cancelled; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ac186ccb6ee8aa13ba9a0e528617a35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ac186ccb6ee8aa13ba9a0e528617a35">&#9670;&nbsp;</a></span>next()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual intptr_t llfio_v2_xxx::dynamic_thread_pool_group::work_item::next </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structllfio__v2__xxx_1_1deadline.html">deadline</a> &amp;&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Invoked by the i/o thread pool to determine if this work item has more work to do.</p>
<dl class="section return"><dt>Returns</dt><dd>If there is no work <em>currently</em> available to do, but there might be some later, you should return zero. You will be called again later after other work has been done. If you return -1, you are saying that no further work will be done, and the group need never call you again. If you have more work you want to do, return any other value. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d</td><td>Optional delay before the next item of work ought to be executed (return != 0), or <code>next()</code> ought to be called again to determine the next item (return == 0). On entry <code>d</code> is set to no delay, so if you don't modify it, the next item of work occurs as soon as possible.</td></tr>
  </table>
  </dd>
</dl>
<p>Note that this function is called from multiple kernel threads. You must NOT do any significant work in this function. In particular do NOT call any dynamic thread pool group function, as you will experience deadlock.</p>
<p><code>dynamic_thread_pool_group::current_work_item()</code> may have any value during this call. </p>

</div>
</div>
<a id="a68e317002adf480e0a4c076410e35e8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68e317002adf480e0a4c076410e35e8e">&#9670;&nbsp;</a></span>operator()()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual result&lt;void&gt; llfio_v2_xxx::dynamic_thread_pool_group::work_item::operator() </td>
          <td>(</td>
          <td class="paramtype">intptr_t&#160;</td>
          <td class="paramname"><em>work</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Invoked by the i/o thread pool to perform the next item of work.</p>
<dl class="section return"><dt>Returns</dt><dd>Any failure causes all remaining work in this group to be cancelled as soon as possible. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">work</td><td>The value returned by <code>next()</code>.</td></tr>
  </table>
  </dd>
</dl>
<p>Note that this function is called from multiple kernel threads, and may not be the kernel thread from which <code>next()</code> was called.</p>
<p><code>dynamic_thread_pool_group::current_work_item()</code> will always be <code>this</code> during this call. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/llfio/v2.0/<a class="el" href="dynamic__thread__pool__group_8hpp.html">dynamic_thread_pool_group.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacellfio__v2__xxx.html">llfio_v2_xxx</a></li><li class="navelem"><a class="el" href="classllfio__v2__xxx_1_1dynamic__thread__pool__group.html">dynamic_thread_pool_group</a></li><li class="navelem"><a class="el" href="classllfio__v2__xxx_1_1dynamic__thread__pool__group_1_1work__item.html">work_item</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
