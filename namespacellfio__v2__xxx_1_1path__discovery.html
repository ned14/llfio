<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLFIO: llfio_v2_xxx::path_discovery Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LLFIO<span id="projectnumber">&#160;v2.00</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespacellfio__v2__xxx_1_1path__discovery.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">llfio_v2_xxx::path_discovery Namespace Reference<span class="mlabels"><span class="mlabel">export</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Contains functions used to discover suitable paths for things.  
<a href="namespacellfio__v2__xxx_1_1path__discovery.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structllfio__v2__xxx_1_1path__discovery_1_1discovered__path.html">discovered_path</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A discovered path.  <a href="structllfio__v2__xxx_1_1path__discovery_1_1discovered__path.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5151d5baf7bf2da912c79c62b62ba8ee" id="r_a5151d5baf7bf2da912c79c62b62ba8ee"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellfio__v2__xxx_1_1path__discovery.html#a5151d5baf7bf2da912c79c62b62ba8ee">operator&lt;&lt;</a> (std::ostream &amp;s, const <a class="el" href="structllfio__v2__xxx_1_1path__discovery_1_1discovered__path.html#ae02f172851c050f6a7f5929410428c7d">discovered_path::source_type</a> &amp;v)</td></tr>
<tr class="separator:a5151d5baf7bf2da912c79c62b62ba8ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a77d2ed73775e74c66f56d59f0f6dba" id="r_a7a77d2ed73775e74c66f56d59f0f6dba"><td class="memItemLeft" align="right" valign="top">span&lt; <a class="el" href="structllfio__v2__xxx_1_1path__discovery_1_1discovered__path.html">discovered_path</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellfio__v2__xxx_1_1path__discovery.html#a7a77d2ed73775e74c66f56d59f0f6dba">all_temporary_directories</a> (bool refresh=false, span&lt; <a class="el" href="classllfio__v2__xxx_1_1path__view.html">path_view</a> &gt; fallbacks={}, span&lt; <a class="el" href="classllfio__v2__xxx_1_1path__view.html">path_view</a> &gt; overrides={}) noexcept</td></tr>
<tr class="memdesc:a7a77d2ed73775e74c66f56d59f0f6dba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of potential directories which might be usuable for temporary files.  <br /></td></tr>
<tr class="separator:a7a77d2ed73775e74c66f56d59f0f6dba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52cc28a9b8b7f0cf3daf2bae1869baf5" id="r_a52cc28a9b8b7f0cf3daf2bae1869baf5"><td class="memItemLeft" align="right" valign="top">span&lt; <a class="el" href="structllfio__v2__xxx_1_1path__discovery_1_1discovered__path.html">discovered_path</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellfio__v2__xxx_1_1path__discovery.html#a52cc28a9b8b7f0cf3daf2bae1869baf5">verified_temporary_directories</a> (const char *_storage_backed_regex=storage_backed_regex, const char *_memory_backed_regex=memory_backed_regex) noexcept</td></tr>
<tr class="memdesc:a52cc28a9b8b7f0cf3daf2bae1869baf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a subset of <code>all_temporary_directories()</code> each of which has been tested to be writable by the current process. No testing is done of available writable space.  <br /></td></tr>
<tr class="separator:a52cc28a9b8b7f0cf3daf2bae1869baf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b400319c8c5973bb2ccbf6f1c38b4db" id="r_a7b400319c8c5973bb2ccbf6f1c38b4db"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classllfio__v2__xxx_1_1path__handle.html">path_handle</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellfio__v2__xxx_1_1path__discovery.html#a7b400319c8c5973bb2ccbf6f1c38b4db">storage_backed_temporary_files_directory</a> () noexcept</td></tr>
<tr class="memdesc:a7b400319c8c5973bb2ccbf6f1c38b4db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a reference to an open handle to a verified temporary directory where files created are stored in a filesystem directory, usually under the current user's quota.  <br /></td></tr>
<tr class="separator:a7b400319c8c5973bb2ccbf6f1c38b4db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a212ee0598ca03adf68099b2f39de63cc" id="r_a212ee0598ca03adf68099b2f39de63cc"><td class="memItemLeft" align="right" valign="top"><a id="a212ee0598ca03adf68099b2f39de63cc" name="a212ee0598ca03adf68099b2f39de63cc"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>storage_backed_temporary_files_directory_is_networked</b> () noexcept</td></tr>
<tr class="memdesc:a212ee0598ca03adf68099b2f39de63cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if the storage backed temporary files directory is on a networked file system. <br /></td></tr>
<tr class="separator:a212ee0598ca03adf68099b2f39de63cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa99c9c7335db78b5135c85c58aeaa3fe" id="r_aa99c9c7335db78b5135c85c58aeaa3fe"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classllfio__v2__xxx_1_1path__handle.html">path_handle</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellfio__v2__xxx_1_1path__discovery.html#aa99c9c7335db78b5135c85c58aeaa3fe">memory_backed_temporary_files_directory</a> () noexcept</td></tr>
<tr class="memdesc:aa99c9c7335db78b5135c85c58aeaa3fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a reference to an open handle to a verified temporary directory where files created are stored in memory/paging file, and thus access may be a lot quicker, but stronger limits on capacity may apply.  <br /></td></tr>
<tr class="separator:aa99c9c7335db78b5135c85c58aeaa3fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae63fc84f4042962a429017fac39393a3" id="r_ae63fc84f4042962a429017fac39393a3"><td class="memItemLeft" align="right" valign="top"><a id="ae63fc84f4042962a429017fac39393a3" name="ae63fc84f4042962a429017fac39393a3"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>memory_backed_temporary_files_directory_is_networked</b> () noexcept</td></tr>
<tr class="memdesc:ae63fc84f4042962a429017fac39393a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if the memory backed temporary files directory is on a networked file system. <br /></td></tr>
<tr class="separator:ae63fc84f4042962a429017fac39393a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbaf76ca21c449288907eb516781ee3d" id="r_abbaf76ca21c449288907eb516781ee3d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classllfio__v2__xxx_1_1path__handle.html">path_handle</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellfio__v2__xxx_1_1path__discovery.html#abbaf76ca21c449288907eb516781ee3d">temporary_named_pipes_directory</a> () noexcept</td></tr>
<tr class="memdesc:abbaf76ca21c449288907eb516781ee3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a reference to an open handle to a verified temporary directory where named pipes may be created and found.  <br /></td></tr>
<tr class="separator:abbaf76ca21c449288907eb516781ee3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9292bf20a987b737592721336a8bb2b7" id="r_a9292bf20a987b737592721336a8bb2b7"><td class="memItemLeft" align="right" valign="top"><a id="a9292bf20a987b737592721336a8bb2b7" name="a9292bf20a987b737592721336a8bb2b7"></a>
result&lt; <a class="el" href="classllfio__v2__xxx_1_1path__handle.html">path_handle</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>current_working_directory</b> () noexcept</td></tr>
<tr class="memdesc:a9292bf20a987b737592721336a8bb2b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a handle to the current working directory, which can change at any moment during a process' lifetime. <br /></td></tr>
<tr class="separator:a9292bf20a987b737592721336a8bb2b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81ce0c446c1ebbee3993f37ff811cd70" id="r_a81ce0c446c1ebbee3993f37ff811cd70"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classllfio__v2__xxx_1_1path__handle.html">path_handle</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellfio__v2__xxx_1_1path__discovery.html#a81ce0c446c1ebbee3993f37ff811cd70">starting_working_directory</a> () noexcept</td></tr>
<tr class="memdesc:a81ce0c446c1ebbee3993f37ff811cd70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a reference to an open handle to a verified directory which was the working directory during static data init of the process before <code>main()</code> was invoked.  <br /></td></tr>
<tr class="separator:a81ce0c446c1ebbee3993f37ff811cd70"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contains functions used to discover suitable paths for things. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a7a77d2ed73775e74c66f56d59f0f6dba" name="a7a77d2ed73775e74c66f56d59f0f6dba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a77d2ed73775e74c66f56d59f0f6dba">&#9670;&#160;</a></span>all_temporary_directories()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">span&lt; <a class="el" href="structllfio__v2__xxx_1_1path__discovery_1_1discovered__path.html">discovered_path</a> &gt; llfio_v2_xxx::path_discovery::all_temporary_directories </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>refresh</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">span&lt; <a class="el" href="classllfio__v2__xxx_1_1path__view.html">path_view</a> &gt;&#160;</td>
          <td class="paramname"><em>fallbacks</em> = <code>{}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">span&lt; <a class="el" href="classllfio__v2__xxx_1_1path__view.html">path_view</a> &gt;&#160;</td>
          <td class="paramname"><em>overrides</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a list of potential directories which might be usuable for temporary files. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">refresh</td><td>Recalculate the list and all dependent lists, which are statically cached after first call. </td></tr>
    <tr><td class="paramname">fallbacks</td><td>Additional local paths to place after the <code>discovered_path::source_type::system</code> paths, which therefore would take preference over later <code>discovered_path::source_type::hardcoded</code> paths. </td></tr>
    <tr><td class="paramname">overrides</td><td>Additional paths to place at the beginning of the list, which therefore would take preference over all other paths.</td></tr>
  </table>
  </dd>
</dl>
<p>This is a fairly lightweight call which builds a master list of all potential temporary file directories given the environment block of this process (unless SUID or SGID or Privilege Elevation are in effect) and the user running this process. It does not verify if any of them exist, or are writable, or anything else about them. An internal mutex is held for the duration of this call.</p>
<p>Potential temporary file directories are sourced as follows:</p>
<ul>
<li><p class="startli">POSIX:</p>
<p class="startli">As per Unix guidelines, in order:</p><ol type="1">
<li>If not SUID nor SUIG situation, from these environment variables in this order of preference: <code>"TMPDIR", "TMP", "TEMP", "TEMPDIR", "XDG_RUNTIME_DIR", "XDG_CACHE_HOME"</code> and <code>${HOME}/.cache</code>.</li>
<li>The <code>.cache</code> directory within the effective user's home directory (created if it doesn't exist).</li>
<li><code>/tmp</code>.</li>
<li><code>/var/tmp</code>.</li>
<li><code>/run/user/&lt;effective user id&gt;</code>.</li>
<li><code>/run/shm</code>.</li>
<li><code>/</code>.</li>
</ol>
</li>
<li>Microsoft Windows:<ol type="1">
<li>If not SUID nor SUIG situation, from these environment variables in this order of preference: <code>"TMP", "TEMP", "LOCALAPPDATA", "USERPROFILE"</code>.</li>
<li>Whatever the Shell says are the paths for: <code>${FOLDERID_LocalAppData}\Temp</code>, <code>${FOLDERID_Profile}\AppData\Local\Temp</code>, <code>${FOLDERID_Profile}\Local Settings\Temp</code>.</li>
<li><code>${GetWindowsDirectoryW()}\Temp</code>.</li>
<li><code>GetSystemWindowsDirectoryW()\..\Temp</code>.</li>
</ol>
</li>
</ul>
<dl class="section user"><dt>Memory Allocations\n Allocates the master list of discovered temporary directories exactly once per process,</dt><dd>unless <code>refresh</code> is true in which case the list will be refreshed. The system calls to retrieve paths may allocate additional memory for paths returned. </dd></dl>
<dl class="section user"><dt>Errors returnable\n This call never fails, except to return an empty span.</dt><dd></dd></dl>

</div>
</div>
<a id="aa99c9c7335db78b5135c85c58aeaa3fe" name="aa99c9c7335db78b5135c85c58aeaa3fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa99c9c7335db78b5135c85c58aeaa3fe">&#9670;&#160;</a></span>memory_backed_temporary_files_directory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classllfio__v2__xxx_1_1path__handle.html">path_handle</a> &amp; llfio_v2_xxx::path_discovery::memory_backed_temporary_files_directory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a reference to an open handle to a verified temporary directory where files created are stored in memory/paging file, and thus access may be a lot quicker, but stronger limits on capacity may apply. </p>
<p>This is implemented by <code>verified_temporary_directories()</code> iterating all of the paths returned by and checking what file system is in use, comparing it to <code>memory_backed_regex</code>.</p>
<p>The handle is created during <code>verified_temporary_directories()</code> and is statically cached thereafter.</p>
<dl class="section note"><dt>Note</dt><dd>If you wish to create an anonymous memory-backed inode for mmap and paging tricks like mapping the same extent into multiple addresses e.g. to implement a constant time zero copy <code>realloc()</code>, strongly consider using a non-file-backed <code>section_handle</code> as this is more portable. </dd></dl>

</div>
</div>
<a id="a5151d5baf7bf2da912c79c62b62ba8ee" name="a5151d5baf7bf2da912c79c62b62ba8ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5151d5baf7bf2da912c79c62b62ba8ee">&#9670;&#160;</a></span>operator&lt;&lt;()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream &amp; llfio_v2_xxx::path_discovery::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structllfio__v2__xxx_1_1path__discovery_1_1discovered__path.html#ae02f172851c050f6a7f5929410428c7d">discovered_path::source_type</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   67</span>  {</div>
<div class="line"><span class="lineno">   68</span>    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *values[] = {<span class="stringliteral">&quot;unknown&quot;</span>, <span class="stringliteral">&quot;local&quot;</span>, <span class="stringliteral">&quot;environment&quot;</span>, <span class="stringliteral">&quot;system&quot;</span>, <span class="stringliteral">&quot;hardcoded&quot;</span>};</div>
<div class="line"><span class="lineno">   69</span>    <span class="keywordflow">if</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(v) &gt; <span class="keyword">sizeof</span>(values) / <span class="keyword">sizeof</span>(values[0]) || (values[<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(v)] == <span class="keyword">nullptr</span>))</div>
<div class="line"><span class="lineno">   70</span>    {</div>
<div class="line"><span class="lineno">   71</span>      <span class="keywordflow">return</span> s &lt;&lt; <span class="stringliteral">&quot;llfio::path_discovery::discovered_path::source_type::&lt;unknown&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">   72</span>    }</div>
<div class="line"><span class="lineno">   73</span>    <span class="keywordflow">return</span> s &lt;&lt; <span class="stringliteral">&quot;llfio::path_discovery::discovered_path::source_type::&quot;</span> &lt;&lt; values[<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(v)];</div>
<div class="line"><span class="lineno">   74</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a81ce0c446c1ebbee3993f37ff811cd70" name="a81ce0c446c1ebbee3993f37ff811cd70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81ce0c446c1ebbee3993f37ff811cd70">&#9670;&#160;</a></span>starting_working_directory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classllfio__v2__xxx_1_1path__handle.html">path_handle</a> &amp; llfio_v2_xxx::path_discovery::starting_working_directory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a reference to an open handle to a verified directory which was the working directory during static data init of the process before <code>main()</code> was invoked. </p>
<p>If the directory was not readable at the time of process start, a default initialised path handle is returned. If static data init code changes the current working directory, the directory you get is undefined (depends on static data init order, which itself is undefined). </p>

</div>
</div>
<a id="a7b400319c8c5973bb2ccbf6f1c38b4db" name="a7b400319c8c5973bb2ccbf6f1c38b4db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b400319c8c5973bb2ccbf6f1c38b4db">&#9670;&#160;</a></span>storage_backed_temporary_files_directory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classllfio__v2__xxx_1_1path__handle.html">path_handle</a> &amp; llfio_v2_xxx::path_discovery::storage_backed_temporary_files_directory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a reference to an open handle to a verified temporary directory where files created are stored in a filesystem directory, usually under the current user's quota. </p>
<p>This is implemented by <code>verified_temporary_directories()</code> iterating all of the paths returned by and checking what file system is in use, comparing it to <code>storage_backed_regex</code>.</p>
<p>The handle is created during <code>verified_temporary_directories()</code> and is statically cached thereafter. </p>

</div>
</div>
<a id="abbaf76ca21c449288907eb516781ee3d" name="abbaf76ca21c449288907eb516781ee3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbaf76ca21c449288907eb516781ee3d">&#9670;&#160;</a></span>temporary_named_pipes_directory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classllfio__v2__xxx_1_1path__handle.html">path_handle</a> &amp; llfio_v2_xxx::path_discovery::temporary_named_pipes_directory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a reference to an open handle to a verified temporary directory where named pipes may be created and found. </p>
<p>On Microsoft Windows, this is <code>\Device\NamedPipe</code> within the NT kernel namespace.</p>
<p>On POSIX, this is <code>storage_backed_temporary_files_directory()</code>. </p>

</div>
</div>
<a id="a52cc28a9b8b7f0cf3daf2bae1869baf5" name="a52cc28a9b8b7f0cf3daf2bae1869baf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52cc28a9b8b7f0cf3daf2bae1869baf5">&#9670;&#160;</a></span>verified_temporary_directories()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">span&lt; <a class="el" href="structllfio__v2__xxx_1_1path__discovery_1_1discovered__path.html">discovered_path</a> &gt; llfio_v2_xxx::path_discovery::verified_temporary_directories </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>_storage_backed_regex</em> = <code>storage_backed_regex</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>_memory_backed_regex</em> = <code>memory_backed_regex</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a subset of <code>all_temporary_directories()</code> each of which has been tested to be writable by the current process. No testing is done of available writable space. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_storage_backed_regex</td><td>The regex to use to determine which of the temporary directories are backed by storage not memory. The regex is executed case insensitively. </td></tr>
    <tr><td class="paramname">_memory_backed_regex</td><td>The regex to use to determine which of the temporary directories are backed by memory not storage. The regex is executed case insensitively.</td></tr>
  </table>
  </dd>
</dl>
<p>After this call returns, the successfully probed entries returned by <code>all_temporary_directories()</code> will have their stat structure set. As the probing involves creating a non-zero sized file in each possible temporary directory to verify its validity, this is not a fast call. It is however cached statically, so the cost occurs exactly once per process, unless someone calls <code>all_temporary_directories(true)</code> to wipe and refresh the master list. An internal mutex is held for the duration of this call. </p><dl class="section user"><dt>Memory Allocations\n None.</dt><dd></dd></dl>
<dl class="section user"><dt>Errors returnable\n This call never fails, though if it fails to find any writable temporary directory, it will</dt><dd>terminate the process. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacellfio__v2__xxx.html">llfio_v2_xxx</a></li><li class="navelem"><a class="el" href="namespacellfio__v2__xxx_1_1path__discovery.html">path_discovery</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
