<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>AFIO: include/afio/v2.0/utils.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AFIO
   &#160;<span id="projectnumber">v2.00 late alpha</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('utils_8hpp.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">utils.hpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides namespace utils.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="config_8hpp.html">config.hpp</a>&quot;</code><br/>
<code>#include &quot;quickcpplib/include/algorithm/string.hpp&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classafio__v2__xxx_1_1utils_1_1page__allocator.html">afio_v2_xxx::utils::page_allocator&lt; T &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An STL allocator which allocates large TLB page memory.If the operating system is configured to allow it, this type of memory is particularly efficient for doing large scale file i/o. This is because the kernel must normally convert the scatter gather buffers you pass into extended scatter gather buffers as the memory you see as contiguous may not, and probably isn't, actually be contiguous in physical memory. Regions returned by this allocator <em>may</em> be allocated contiguously in physical memory and therefore the kernel can pass through your scatter gather buffers unmodified.  <a href="classafio__v2__xxx_1_1utils_1_1page__allocator.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structafio__v2__xxx_1_1utils_1_1page__allocator_1_1rebind.html">afio_v2_xxx::utils::page_allocator&lt; T &gt;::rebind&lt; U &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classafio__v2__xxx_1_1utils_1_1page__allocator_3_01void_01_4.html">afio_v2_xxx::utils::page_allocator&lt; void &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structafio__v2__xxx_1_1utils_1_1page__allocator_3_01void_01_4_1_1rebind.html">afio_v2_xxx::utils::page_allocator&lt; void &gt;::rebind&lt; U &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespaceafio__v2__xxx"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceafio__v2__xxx.html">afio_v2_xxx</a></td></tr>
<tr class="memdesc:namespaceafio__v2__xxx"><td class="mdescLeft">&#160;</td><td class="mdescRight">The AFIO namespace. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespaceafio__v2__xxx_1_1utils"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceafio__v2__xxx_1_1utils.html">afio_v2_xxx::utils</a></td></tr>
<tr class="memdesc:namespaceafio__v2__xxx_1_1utils"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility routines often useful when using AFIO. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a337c41ad9b9dcbc6dbd81f2e706b469d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceafio__v2__xxx_1_1utils.html#a337c41ad9b9dcbc6dbd81f2e706b469d">afio_v2_xxx::utils::page_size</a> () noexcept</td></tr>
<tr class="memdesc:a337c41ad9b9dcbc6dbd81f2e706b469d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the smallest page size of this architecture which is useful for calculating direct i/o multiples.  <a href="#a337c41ad9b9dcbc6dbd81f2e706b469d">More...</a><br/></td></tr>
<tr class="separator:a337c41ad9b9dcbc6dbd81f2e706b469d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e0604f2e7f98b94ddb09989184968f5"><td class="memTemplParams" colspan="2"><a class="anchor" id="a7e0604f2e7f98b94ddb09989184968f5"></a>
template&lt;class T &gt; </td></tr>
<tr class="memitem:a7e0604f2e7f98b94ddb09989184968f5"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceafio__v2__xxx_1_1utils.html#a7e0604f2e7f98b94ddb09989184968f5">afio_v2_xxx::utils::round_down_to_page_size</a> (T i) noexcept</td></tr>
<tr class="memdesc:a7e0604f2e7f98b94ddb09989184968f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Round a value to its next lowest page size multiple. <br/></td></tr>
<tr class="separator:a7e0604f2e7f98b94ddb09989184968f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13555945f08a71adb2707e7be4e29207"><td class="memTemplParams" colspan="2"><a class="anchor" id="a13555945f08a71adb2707e7be4e29207"></a>
template&lt;class T &gt; </td></tr>
<tr class="memitem:a13555945f08a71adb2707e7be4e29207"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceafio__v2__xxx_1_1utils.html#a13555945f08a71adb2707e7be4e29207">afio_v2_xxx::utils::round_up_to_page_size</a> (T i) noexcept</td></tr>
<tr class="memdesc:a13555945f08a71adb2707e7be4e29207"><td class="mdescLeft">&#160;</td><td class="mdescRight">Round a value to its next highest page size multiple. <br/></td></tr>
<tr class="separator:a13555945f08a71adb2707e7be4e29207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a99cc31f1816073bd899bb82d018e55"><td class="memTemplParams" colspan="2"><a class="anchor" id="a6a99cc31f1816073bd899bb82d018e55"></a>
template&lt;class T &gt; </td></tr>
<tr class="memitem:a6a99cc31f1816073bd899bb82d018e55"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceafio__v2__xxx_1_1utils.html#a6a99cc31f1816073bd899bb82d018e55">afio_v2_xxx::utils::round_to_page_size</a> (T i) noexcept</td></tr>
<tr class="memdesc:a6a99cc31f1816073bd899bb82d018e55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Round a pair of a pointer and a size_t to their nearest page size multiples. The pointer will be rounded down, the size_t upwards. <br/></td></tr>
<tr class="separator:a6a99cc31f1816073bd899bb82d018e55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadc7dd505730e2701313be55519c9958"><td class="memItemLeft" align="right" valign="top">std::vector&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceafio__v2__xxx_1_1utils.html#aadc7dd505730e2701313be55519c9958">afio_v2_xxx::utils::page_sizes</a> (bool only_actually_available=true)</td></tr>
<tr class="memdesc:aadc7dd505730e2701313be55519c9958"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the page sizes of this architecture which is useful for calculating direct i/o multiples.  <a href="#aadc7dd505730e2701313be55519c9958">More...</a><br/></td></tr>
<tr class="separator:aadc7dd505730e2701313be55519c9958"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace050f445d1d1fdd4b2a6f99d9be7f85"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceafio__v2__xxx_1_1utils.html#ace050f445d1d1fdd4b2a6f99d9be7f85">afio_v2_xxx::utils::file_buffer_default_size</a> ()</td></tr>
<tr class="memdesc:ace050f445d1d1fdd4b2a6f99d9be7f85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a reasonable default size for page_allocator, typically the closest page size from page_sizes() to 1Mb.  <a href="#ace050f445d1d1fdd4b2a6f99d9be7f85">More...</a><br/></td></tr>
<tr class="separator:ace050f445d1d1fdd4b2a6f99d9be7f85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed184bfbef52745f68812e68b317527f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceafio__v2__xxx_1_1utils.html#aed184bfbef52745f68812e68b317527f">afio_v2_xxx::utils::random_fill</a> (char *buffer, size_t bytes) noexcept</td></tr>
<tr class="memdesc:aed184bfbef52745f68812e68b317527f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills the buffer supplied with cryptographically strong randomness. Uses the OS kernel API.  <a href="#aed184bfbef52745f68812e68b317527f">More...</a><br/></td></tr>
<tr class="separator:aed184bfbef52745f68812e68b317527f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a767b8434456319066194534a4c4edbf5"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceafio__v2__xxx_1_1utils.html#a767b8434456319066194534a4c4edbf5">afio_v2_xxx::utils::random_string</a> (size_t randomlen)</td></tr>
<tr class="memdesc:a767b8434456319066194534a4c4edbf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a cryptographically random string capable of being used as a filename. Essentially random_fill() + to_hex_string().  <a href="#a767b8434456319066194534a4c4edbf5">More...</a><br/></td></tr>
<tr class="separator:a767b8434456319066194534a4c4edbf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34fff580f0b7e7bea5509e5294f5d71e"><td class="memItemLeft" align="right" valign="top">result&lt; void &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceafio__v2__xxx_1_1utils.html#a34fff580f0b7e7bea5509e5294f5d71e">afio_v2_xxx::utils::drop_filesystem_cache</a> () noexcept</td></tr>
<tr class="memdesc:a34fff580f0b7e7bea5509e5294f5d71e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to flush all modified data to the physical device, and then drop the OS filesystem cache, thus making all future reads come from the physical device. Currently only implemented for Microsoft Windows and Linux.  <a href="#a34fff580f0b7e7bea5509e5294f5d71e">More...</a><br/></td></tr>
<tr class="separator:a34fff580f0b7e7bea5509e5294f5d71e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0bcb12f4895aad8ad302dd8e1fa2143"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af0bcb12f4895aad8ad302dd8e1fa2143"></a>
large_page_allocation&#160;</td><td class="memItemRight" valign="bottom"><b>afio_v2_xxx::utils::detail::calculate_large_page_allocation</b> (size_t bytes)</td></tr>
<tr class="separator:af0bcb12f4895aad8ad302dd8e1fa2143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8faa3b32314a16a8c42d7b8bcef8962"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab8faa3b32314a16a8c42d7b8bcef8962"></a>
large_page_allocation&#160;</td><td class="memItemRight" valign="bottom"><b>afio_v2_xxx::utils::detail::allocate_large_pages</b> (size_t bytes)</td></tr>
<tr class="separator:ab8faa3b32314a16a8c42d7b8bcef8962"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23dd1191399dd20f3e23c3ff4b3a0c2e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a23dd1191399dd20f3e23c3ff4b3a0c2e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>afio_v2_xxx::utils::detail::deallocate_large_pages</b> (void *p, size_t bytes)</td></tr>
<tr class="separator:a23dd1191399dd20f3e23c3ff4b3a0c2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d0c1e951ea0b9f45b3e6d331f194e68"><td class="memTemplParams" colspan="2"><a class="anchor" id="a2d0c1e951ea0b9f45b3e6d331f194e68"></a>
template&lt;class T , class U &gt; </td></tr>
<tr class="memitem:a2d0c1e951ea0b9f45b3e6d331f194e68"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><b>afio_v2_xxx::utils::operator==</b> (const page_allocator&lt; T &gt; &amp;, const page_allocator&lt; U &gt; &amp;) noexcept</td></tr>
<tr class="separator:a2d0c1e951ea0b9f45b3e6d331f194e68"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides namespace utils. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_4443eecac141a9c11b93921c40e6e530.html">afio</a></li><li class="navelem"><a class="el" href="dir_df838802a8d72797f186037846947269.html">v2.0</a></li><li class="navelem"><a class="el" href="utils_8hpp.html">utils.hpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
